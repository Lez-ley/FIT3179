<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <!-- Vega Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>
    <script src="vega_lite_vis.js"></script>

    <!-- <title>Page Skeleton</title> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        /* constrain all visualizations */
        #line_chart, #line_growth_chart, #bump_chart, #choropleth_map, #connected_dot_plot {
            width: 100% !important;
            max-width: 100% !important;
            overflow: hidden !important;
        }

        /* making sure  that canvas/svg elements are constrained */
        .vega-embed canvas, 
        .vega-embed svg {
            max-width: 100% !important;
            height: auto !important;
        }

        /* remov any in-line positionign */
        .vega-embed {
            position: static !important;
        }
    </style>

    <title>Malaysia's Household Income</title>

</head>

<body style="background: no-repeat url('data/buildings-g7f0b08f0c_1280.jpg'); background-size: cover; background-position: center;">
    <div style="backdrop-filter: blur(250px);">
        <div class="container-fluid font-weight-light">

            <!-- This section is for the Header Container -->
            <div class="row pt-3 pb-5">
                <div class="col-12">
                    <div class="row justify-content-center pt-5 pb-5">
                        <!-- col-10, adjust width of Top Header Bar, this one vvvv -->
                        <div class="col-9">
                            <div class="card border-0 shadow-lg">
                                <div class="card-header bg-dark text-white">
                                    <div class="text-right">
                                        <!-- Button / Link -->
                                    </div>
                                    <div class="text-center">
                                        <!-- large headers / medium headers shall use 64/32 pixels -->
                                        <h4 style="font-size: 40px; font-family: 'Times New Roman', Times, serif;">The Changing Face of</h1>
                                        <h1 style="font-size: 72px; font-family: 'Times New Roman', Times, serif;">Malaysia's Household Income</h3>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="row justify-content-center">
                                        <!-- small paragraphs, shall use 15 pixel -->
                                        <div class="col-10" style="font-size: 17px; font-family: Arial, Helvetica, sans-serif; font-weight: 500; max-width: 900px;">
                                            <!-- Intro Text / Content -->
                                            Located at the crossroads of <b>Southeast Asia</b>, <b>Malaysia</b> is a nation shaped by its <i>diversity</i> in culture, geography, and economy. 
                                            Since independence, it has transformed from an <i>agricultural economy</i> into one driven by <b>industry</b> and <b>services</b>, lifting millions into 
                                            the <b>middle class</b>. Yet, as prosperity grows, <u>income inequality</u> and <u>regional gaps</u> remain key challenges in ensuring that growth is <b>shared fairly</b>.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- align all containers beyond here with column-9 -->
                    <div class="row justify-content-center">
                    <div class="col-9">

                    <!-- section 1: Multi-line chart and line growth chart -->
                    <!-- the first section, or fiurst container => Line chart -->
                    <div class="card border-0 shadow-lg mt-4">
                        <div class="card-body">
                            <div class="row justify-content-center">
                                <div class="col-10 text-center">
                                    <h4 style="font-size: 32px; font-family: Arial, Helvetica, sans-serif;">
                                        <b>Malaysia Is Rich, But Is The Growth Fair ?</b>
                                    </h4>
                                    <p class="text-muted small text-center" style="font-size: 15px; font-family: Arial, Helvetica, sans-serif;">
                                        a look at Malaysia's rising incomes and the unequal pace of growth across households
                                    </p>
                                    <hr>

                                    <!-- line chart (mean and median multi-line chart) section -->
                                    <div class="row align-items-center mb-4">
                                        <!-- multi-line chart itself is here -->
                                        <div class="col-md-9">
                                            <div id="line_chart" style="right: 20px; margin-top: 20px;"></div>
                                            <script>
                                                var chart1 = "charts/line_chart.vg.json";
                                            </script>
                                        </div>
                                        <!-- the text content for the multi-line chart (on the right side) -->
                                        <div class="col-md-3" style="left: 20px;">
                                            <strong style="display: block; text-align: left; font-size: 18px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                                <b>Mean and Median Household Income, 1974 - 2022</b>
                                            </strong>
                                            <p style="text-align: justify; text-justify: inter-word; font-size: 15px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                                The chart shows Malaysia's <b>mean</b> and <b>median household income</b> growth from <b>1974 to 2022</b>, 
                                                with dips during the <i>1997 Asian Financial Crisis</i> and the <i>2020 Covid-19 pandemic</i>. 
                                                The gap between <b>mean</b> and <b>median income</b> reflects <b>persistent inequality</b> over time.
                                            </p>
                                        </div>
                                    </div>

                                    <!-- line growth chart (the % income growth chart) section -->
                                    <div class="row align-items-center">
                                        <!-- line growth chart itself -->
                                        <div class="col-md-9">
                                            <div id="line_growth_chart" style="right: 35px; top: -30px"></div>
                                            <script>
                                                var chart2 = "charts/income_growth_percent.vg.json";
                                            </script>
                                        </div>
                                        <!-- text content for the line growth chart (on te righ side) -->
                                        <div class="col-md-3" style="left: 20px; top: -50px;">
                                            <strong style="display: block; text-align: left; font-size: 18px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                                <b>How Are Incomes Growing and Slowing, 1974 - 2022</b>
                                            </strong>
                                            <p style="text-align: justify; text-justify: inter-word; font-size: 15px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                                Periods of <b>rapid growth</b>, such as in the <i>early 1980s</i>, contrast with sharp declines during crises in 
                                                <b>1987</b>, <b>1999</b>, and <b>2020</b>. This pattern shows that Malaysia's income growth is highly 
                                                <b>sensitive</b> to both <i>domestic</i> and <i>global</i> economic conditions.
                                            </p>
                                        </div>
                                    </div>

                                    <script>
                                        // make it so that both charts reach when user applies year filter
                                        Promise.all([
                                            vegaEmbed("#line_chart", chart1),
                                            vegaEmbed("#line_growth_chart", chart2)
                                        ]).then(function(results) {
                                            var view1 = results[0].view;
                                            var view2 = results[1].view;

                                            // When users select year filter in chart 1, it will be sent to chart 2
                                            view1.addSignalListener('fromYear', function(name, value) {
                                            view2.signal('fromYear', value).run();
                                            });
                                            view1.addSignalListener('toYear', function(name, value) {
                                            view2.signal('toYear', value).run();
                                            });

                                            // When users select year filter in chart 2, it will be sent to chart 1
                                            view2.addSignalListener('fromYear', function(name, value) {
                                            view1.signal('fromYear', value).run();
                                            });
                                            view2.addSignalListener('toYear', function(name, value) {
                                            view1.signal('toYear', value).run();
                                            });
                                        }).catch(console.error);
                                    </script>


                                    <hr>
                                    <figure class="figure-caption text-right">Source: <a href="https://open.dosm.gov.my/data-catalogue/hh_income" target="_blank">Malaysia's Household Income</a> | OpenDOSM</figure>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- section 2: Bump chart -->
                    <div class="card border-0 shadow-lg mt-4">
                        <div class="card-body">
                            <div class="row justify-content-center">
                                <div class="col-10 text-center">
                                    <h4 style="font-size: 32px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                        <b>Which State Surged Ahead and Which State Lagged Behind ?</b>
                                    </h4>
                                    <p class="text-muted small text-center" style="font-size: 15px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                        a visual comparison of how states have risen or fallen in household income rankings over time
                                    </p>
                                    <hr>
                                        <strong style="display: block; text-align: left; font-size: 18px; margin-top: 40px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                            <b>Income Rankings and Shifts Across Time</b>
                                        </strong>
                                        <p style="text-align: justify; text-justify: inter-word; font-size: 15px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                            This chart contrasts the <b>relative rankings</b> of <i>Malaysian states</i> based on <b>household income</b> from 
                                            <b>1976 to 2022</b>. <b>Selangor</b> and <b>Pulau Pinang</b> stayed at the top, while states like 
                                            <b>Kelantan</b> and <b>Kedah</b> continued to rank lower. It shows how some states have 
                                            <b>surged ahead</b> while others still <i>lag behind</i> over time.
                                        </p>

                                        <div id="bump_chart" style="left: 60px; top: 20px;"></div>
                                        
                                        <script>
                                            var chart3 = "charts/bump_chart.vg.json"

                                            vegaEmbed("#bump_chart", chart3).then(function(result) {
                                            // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
                                            }).catch(console.error);

                                        </script>

                                    <hr>
                                    <figure class="figure-caption text-right">
                                        Source: <a href="https://www.kaggle.com/datasets/akma1xz/draft-dataset?resource=download&select=hh_income_state.csv" target="_blank"> Household Income by State </a> | Kaggle
                                    </figure>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 3: choropleth map -->
                    <div class="card border-0 shadow-lg mt-4">
                        <div class="card-body">
                            <div class="row justify-content-center">
                                <div class="col-10 text-center">
                                    <h4 style="font-size: 32px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                        <b>How About The Present, Where Do Malaysians Earn The Most ?</b>
                                    </h4>
                                    <p class="text-muted small text-center" style="font-size: 15px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                        examining regional household income distribution and development patterns
                                    </p>
                                    <hr>
                                    <div class="row align-items-center mb-4" style="margin-top: 40px;">
                                        <!-- the text content for the choropleth map (on the left side) -->
                                        <div class="col-md-3">
                                            <strong style="display: block; text-align: left; font-size: 18px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                                <b>Geographic Distribution of Household Economic Well-being In 2022</b>
                                            </strong>
                                            <p style="text-align: justify; text-justify: inter-word; font-size: 15px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                                The map highlights stark <b>economic disparities</b> across Malaysian states in <b>2022</b>, with 
                                                <i>western peninsular states</i> showing higher average income. 
                                                This pattern reflects the enduring <b>urban-rural divide</b> and uneven <b>regional development</b> across the country.
                                            </p>
                                        </div>
                                        <!-- choropleth map itself is here -->
                                        <div class="col-md-9">
                                            <div id="choropleth_map" style="left: 65px;"></div>
                                            <script>
                                                var chart4 = "charts/choropleth_map.vg.json"

                                                vegaEmbed("#choropleth_map", chart4).then(function(result) {
                                                // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
                                                }).catch(console.error);
                                            </script>
                                        </div>
                                    </div>

                                    <hr>
                                    <figure class="figure-caption text-right">
                                        Source: <a href="https://open.dosm.gov.my/data-catalogue/hh_income_state" target="_blank">Household Income by State</a> | OpenDOSM
                                    </figure>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 4: connected dot plot -->
                    <div class="card border-0 shadow-lg mt-4">
                        <div class="card-body">
                            <div class="row justify-content-center">
                                <div class="col-10 text-center">
                                    <h4 style="font-size: 32px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                        <b>Not Everyone's Share Looks The Same: State-level Income Disparities</b>
                                    </h4>
                                    <p class="text-muted small text-center" style="font-size: 15px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                        comparative analysis of disparity in the difference between mean and median household earnings by region
                                    </p>
                                    <hr>
                                    <div class="row align-items-center mb-4">
                                        <!-- connected-dot plot itself is here -->
                                        <div class="col-md-9">
                                            <div id="connected_dot_plot" style="right: 20px; margin-top: 20px;"></div>
                                            <script>
                                                var chart5 = "charts/connected_dot_plot.vg.json"

                                                vegaEmbed("#connected_dot_plot", chart5).then(function(result) {
                                                // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
                                                }).catch(console.error);
                                            </script>
                                        </div>
                                        <!-- the text content for the connected-dot plot (on the right side) -->
                                        <div class="col-md-3" style="left: 20px;">
                                            <strong style="display: block; text-align: left; font-size: 18px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                                <b>Income Distribution Patterns Across Malaysian States</b>
                                            </strong>
                                            <p style="text-align: justify; text-justify: inter-word; font-size: 15px; font-family: Arial, Helvetica, sans-serif; font-weight: 500;">
                                                The chart shows clear <b>income disparities</b> across Malaysian states, with gaps between 
                                                <b>mean</b> and <b>median values</b> revealing unequal distribution. Some states display 
                                                more <i>balanced incomes</i>, while others show strong <b>wealth concentration</b>.
                                            </p>
                                        </div>
                                    </div>
                                    <hr>
                                    <figure class="figure-caption text-right">
                                        Source: <a href="https://www.kaggle.com/datasets/akma1xz/draft-dataset?resource=download&select=hh_income_state.csv" target="_blank">Household Income by State</a> | Kaggle
                                    </figure>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- end container regarding info -->
                    <div class="card border-0 shadow-sm rounded-1 bg-dark text-light mt-4">
                        <div class="card-body py-3 px-4 d-flex justify-content-between align-items-center flex-wrap">
                            <!-- left side-->
                            <div class="text-left">
                                <small>
                                    <strong>FIT3179 Project | Data Visualization 2</strong>
                                </small>
                            </div>
                            <!-- riight side -->
                            <div class="text-right">
                                <small>
                                    <strong>GitHub [</strong>
                                    <a href="https://github.com/Lez-ley/FIT3179" target="_blank" class="text-info">
                                    Lez-ley
                                    </a>
                                    <strong>]</strong>
                                </small>
                            </div>
                        </div>
                        <div class="text-center border-top border-secondary py-2">
                            <small class="text-muted"><b>Leslie Lim â€¢ 2025</b></small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
